Version 4
SHEET 1 1312 1080
WIRE -512 -400 -608 -400
WIRE -400 -400 -512 -400
WIRE -320 -400 -400 -400
WIRE -144 -400 -320 -400
WIRE 304 -400 -144 -400
WIRE -608 -368 -608 -400
WIRE -320 -352 -320 -400
WIRE -320 -256 -320 -288
WIRE -608 -240 -608 -288
WIRE -144 -208 -144 -240
WIRE -320 -160 -320 -192
WIRE -288 -160 -320 -160
WIRE -208 -160 -288 -160
WIRE -288 -128 -288 -160
WIRE -144 -64 -144 -112
WIRE 48 -64 -144 -64
WIRE -512 -16 -512 -400
WIRE -384 -16 -512 -16
WIRE -288 -16 -288 -48
WIRE -240 -16 -288 -16
WIRE -512 16 -512 -16
WIRE -512 16 -816 16
WIRE -288 16 -288 -16
WIRE 304 16 304 -400
WIRE 304 16 224 16
WIRE 224 48 224 16
WIRE -240 64 -240 -16
WIRE -272 80 -592 80
WIRE -128 96 -208 96
WIRE -80 96 -128 96
WIRE 48 96 48 -64
WIRE 48 96 -16 96
WIRE 160 96 48 96
WIRE -272 112 -288 112
WIRE -288 192 -288 112
WIRE -224 192 -288 192
WIRE -128 192 -128 96
WIRE -128 192 -160 192
WIRE 304 224 304 16
WIRE -816 240 -816 16
WIRE 48 240 48 96
WIRE 48 240 -80 240
WIRE -384 272 -384 -16
WIRE -240 272 -240 128
WIRE -240 272 -384 272
WIRE 224 272 224 144
WIRE 240 272 224 272
WIRE 304 352 304 320
WIRE 304 352 128 352
WIRE -816 368 -816 320
WIRE -592 368 -592 80
WIRE -592 368 -816 368
WIRE 304 368 304 352
WIRE -816 400 -816 368
WIRE -80 464 -80 240
WIRE 304 464 304 448
WIRE 304 464 16 464
WIRE -816 512 -816 464
WIRE -32 592 -32 528
WIRE -32 592 -64 592
WIRE 32 592 -32 592
WIRE 128 592 128 352
WIRE 128 592 112 592
WIRE 304 624 304 464
WIRE 304 624 176 624
WIRE 448 624 304 624
WIRE 448 720 448 624
WIRE 176 768 176 624
WIRE 448 832 448 800
WIRE -288 864 -288 192
WIRE -80 864 -288 864
WIRE 176 864 176 848
WIRE 176 864 -80 864
WIRE 176 896 176 864
WIRE 176 1040 176 976
FLAG 448 832 0
FLAG 176 1040 0
FLAG -816 512 0
FLAG -400 -400 in
FLAG 448 624 out
FLAG -288 16 0
FLAG -144 592 0
FLAG -80 864 realim
FLAG -608 -240 0
SYMBOL npn 160 48 R0
SYMATTR InstName Q1
SYMATTR Value BC337-25
SYMBOL npn 240 224 R0
SYMATTR InstName Q2
SYMATTR Value FZT849
SYMBOL res 432 704 R0
SYMATTR InstName R1
SYMATTR Value 6
SYMBOL res 160 752 R0
SYMATTR InstName PRESET
SYMATTR Value 4585
SYMBOL res 160 880 R0
SYMATTR InstName R3
SYMATTR Value 47k
SYMBOL diode -16 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL zener -800 464 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value TDZ8_2B
SYMBOL res -832 224 R0
SYMATTR InstName R4
SYMATTR Value 560
SYMBOL diode -336 -352 R0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -336 -256 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL voltage -608 -384 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(12 0.5 50 0 0 0 500)
SYMBOL res -304 -144 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL pnp -208 -112 M180
SYMATTR InstName Q3
SYMATTR Value BC557B
SYMBOL Opamps\\opamp2 -240 160 M180
SYMATTR InstName U1
SYMATTR Value LM339
SYMBOL npn -80 528 R270
SYMATTR InstName Q4
SYMATTR Value BC547B
SYMBOL res 128 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k5
SYMBOL res -48 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 39k
SYMBOL res 288 352 R0
SYMATTR InstName R9
SYMATTR Value 0.6
SYMBOL res -160 -416 R0
SYMATTR InstName R5
SYMATTR Value 560
SYMBOL res -160 -336 R0
SYMATTR InstName R10
SYMATTR Value 82
SYMBOL cap -160 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10n
TEXT 800 -224 Left 2 !.lib LM339.5_1
TEXT 808 -168 Left 2 !.lib BC547.lib
TEXT 784 -144 Left 2 !.step param RL list 10meg 1000meg
TEXT 904 -104 Left 2 !;op
TEXT 744 80 Left 2 ;vo=15 -> preset=38976
TEXT 744 128 Left 2 ;vo=9 -> preset=4585
TEXT 736 168 Left 2 ;PRESET=R3*(VO/8.2 - 1)
TEXT 832 -48 Left 2 !;dc V1 11 18 0.001
TEXT 760 216 Left 2 !.tran 0 1 0 0.01
